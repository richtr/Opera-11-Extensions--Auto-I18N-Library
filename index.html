<html>
<head>
   <!-- DO NOT MODIFY THE FOLLOWING LINES -->
   <script type="text/javascript" src="messages.js"></script>
   <script type="text/javascript" src="i18n_lib.js"></script>
   <!-- YOUR SCRIPTS HERE -->
</head>
<body>

<script type="text/javascript">

//
//AUTO-LOCALIZATION DEMO...
//
opera.extension.i18n.ready( function( userLanguage ) {
   opera.postError('I18N - Background: opera.extensions.i18n converted messages to lang[' + userLanguage + ']');

   for(var i in opera.extension.messages) {
      opera.postError( "I18N - Background: [" + i + "] " + opera.extension.i18n.getMessage( i ) );
      // the above line is also equivalent to:
      //opera.postError( "I18N - Background: [" + i + "] " + opera.extension.messages[i]["message"] );
   }
   
   opera.postError('I18N - Background: To see different results, change your browser locale in Opera > Preferences > Language');
});

</script>

<script type="text/javascript">

// Add an example popup button

var UIItemProperties = { // options for the button
   disabled: false,
   title: "Your Extension Name",
   popup: {
      href: 'popup.html',
      width: "320px",
      height: "60px"
   }
}
var operaBtn = opera.contexts.toolbar.createItem( UIItemProperties ); // create the button
opera.contexts.toolbar.addItem( operaBtn ); // add button to UI
</script>

</body>
</html>